.container
  .col-md-12
    .row
      img.logo(alt="Jedbangers" src="./assets/images/logo.png")

    .row.vertical-space

    .row.redeem-code-container(ng-controller="RedeemCodeController as redeemCode")
      .loading-spinner(ng-if="redeemCode.loading")
        span(us-spinner="{ lines: 6, speed: 2, length: 0, width: 10, radius: 10 }")

      form(
        ng-if     = "!redeemCode.loading && !redeemCode.contentCode"
        name      = "redeemCode.contentCodeForm"
        ng-submit = "redeemCode.doRedeem()"
      )

        .alert.alert-danger.alert-dismissable(ng-show="redeemCode.error")
          button.close(type="button" ng-click="redeemCode.clearErrors()") &times;
          .text-left
            small.glyphicon.glyphicon-exclamation-sign
            small.sr-only Error
            small &nbsp;
            small {{ redeemCode.error.title }}


          .text-center
            small &nbsp; &nbsp; &nbsp; &nbsp;
            small
              strong {{ redeemCode.error.message }}

        .form-group
          label(for="") Introduce el codigo exclusivo de descarga
          input.input-lg.form-control(
            type        = "text"
            ng-model    = "redeemCode.code"
            placeholder = "ej: O6Z6Z6Y"
          )

        button.btn.btn-lg.btn-default(
          type        = "submit"
          ng-disabled = "!redeemCode.code"
        ) Canjear codigo

      .content-code(ng-if="!redeemCode.loading && redeemCode.contentCode")
        .row
          .pull-left
            img.content-code-image(ng-src="{{redeemCode.contentCode.imageUrl}}")
          .col-md-8.text-left
            h3
              strong {{ redeemCode.contentCode.name }}
            p {{ redeemCode.contentCode.description }}
            audio(controls)
              source(ng-src="{{ redeemCode.contentSource() }}" type="audio/mpeg")
              | Tu navegador no soporta la reproduccion de audios nativa.
        .row.back-button-container
          small Te quedaste con ganas?
          | &nbsp;
          small
            a(href="" ng-click="redeemCode.contentCode = null; redeemCode.code = null") Volve atras
          | &nbsp;
          small y segui canjeando!
